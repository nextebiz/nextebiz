import{T as v,o as w,b as d,j as n,e as _,u as c,Z as M,w as C,d as e,F as b,q as S,t as a,f as o,g,Y as A}from"./app-DW7o1C7H.js";import T from"./AdminLayout-BoeWmXuU.js";import{_ as N}from"./MenuButton-D5Y0B8j3.js";import{i as R}from"./laravel-vue-pagination.es-DMJxfrD1.js";import{S as $}from"./SettingsStore-VcDFOZ17.js";import"./AuthenticatedLayout-_H6pcnvT.js";import"./AdminMenu-CW1ud0to.js";const D={class:"py-10"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"relative overflow-x-auto"},U={class:"w-[300px] mb-3"},B=e("label",{for:"countries",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Filter Search",-1),I=["selected"],V=["selected"],j=["selected"],E={key:0},L={class:"min-w-[700px] sm:w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},O=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 w-2"}," ID "),e("th",{scope:"col",class:"text-left border border-gray-100 dark:border-gray-600 px-6 py-3"}," Details "),e("th",{scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 sm:w-[60px]"}," Mark As Read "),e("th",{scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 sm:w-[60px]"}," Delete ")])],-1),q={scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 w-2"},Y={scope:"col",class:"text-left border border-gray-100 dark:border-gray-600 px-6 py-3"},Z=e("strong",null,"Message type",-1),z=e("strong",null,"Name: ",-1),G=e("strong",null,"Email: ",-1),H=e("strong",null,"Phone: ",-1),J=e("strong",null,"Message: ",-1),K=e("strong",null,"Category: ",-1),Q=e("strong",null,"URL: ",-1),W=e("strong",null,"user_agent: ",-1),X=e("strong",null,"IP: ",-1),ee=e("strong",null,"Created at: ",-1),te={scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 sm:w-[60px]"},se=["onClick"],re=["onClick"],ae={scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 sm:w-[60px]"},oe=["onClick"],de={class:"my-3"},ne={key:1},le=e("div",{class:"p-6 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-lg"}," No Messages found ",-1),ce=[le],he={__name:"Index",props:{messages:Object,mark_as_read:Number,total_messages:Number},setup(u){const l=$(),i=u,s=v({message_id:0,mark_as_read:i.mark_as_read});function y(r){s.mark_as_read=r.target.value,s.get("/myadmin/messages?mark_as_read="+s.mark_as_read)}function h(r){A.get("/myadmin/messages?mark_as_read="+s.mark_as_read+"&page="+r)}function k(r){l.setTotalMessages(l.getTotalMessages-1),s.message_id=r,s.patch(route("myadmin.messages.update",r),{preserveScroll:!0})}function x(r){l.setTotalMessages(l.getTotalMessages+1),s.message_id=r,s.patch(route("myadmin.messages.update",r),{preserveScroll:!0})}function f(r){confirm("Are you sure you want to delete this message?")&&(s.message_id=r,s.delete(route("myadmin.messages.destroy",r)))}return w(()=>{initFlowbite(),l.setTotalMessages(i.total_messages)}),(r,ie)=>(d(),n(b,null,[_(c(M),{title:"Messages"}),_(T,null,{default:C(()=>{var m;return[_(N,{title:`Messages ${c(l).getTotalMessages}`},null,8,["title"]),e("div",D,[e("div",F,[e("div",P,[e("div",U,[e("form",null,[B,e("select",{onChange:y,id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[e("option",{value:"-1",selected:c(s).mark_as_read==2},"Show All",8,I),e("option",{value:"0",selected:c(s).mark_as_read==0},"Show Mark As Unread",8,V),e("option",{value:"1",selected:c(s).mark_as_read==1},"Show Mark As Read",8,j)],32)])]),((m=i.messages)==null?void 0:m.data.length)>0?(d(),n("div",E,[e("table",L,[O,e("tbody",null,[(d(!0),n(b,null,S(i.messages.data,t=>(d(),n("tr",{key:t.id},[e("td",q,a(t.id),1),e("td",Y,[e("div",null,[Z,o(" "+a(t.message_type),1)]),e("div",null,[z,o(" "+a(t.name),1)]),e("div",null,[G,o(" "+a(t.email),1)]),e("div",null,[H,o(" "+a(t.phone),1)]),e("div",null,[J,o(" "+a(t.message),1)]),e("div",null,[K,o(" "+a(t.category_name),1)]),e("div",null,[Q,o(" "+a(t.url),1)]),e("div",null,[W,o(" "+a(t.user_agent),1)]),e("div",null,[X,o(" "+a(t.ip),1)]),e("div",null,[ee,o(" "+a(t.created_at),1)])]),e("td",te,[t.mark_as_read==1?(d(),n("button",{key:0,onClick:g(p=>x(t.id),["prevent"]),class:"btn-dark font-bold whitespace-nowrap"},"Mark As Unread",8,se)):(d(),n("button",{key:1,onClick:g(p=>k(t.id),["prevent"]),class:"btn-green font-bold whitespace-nowrap"},"Mark As Read",8,re))]),e("td",ae,[e("button",{onClick:g(p=>f(t.id),["prevent"]),class:"btn-orange font-bold"},"Delete",8,oe)])]))),128))])]),e("div",de,[_(c(R),{data:u.messages,onPaginationChangePage:h},null,8,["data"])])])):(d(),n("div",ne,ce))])])])]}),_:1})],64))}};export{he as default};
