import{T as E,o as A,b as l,j as d,e as n,u as s,Z as F,w as I,d as e,g as m,m as c,K as p,n as g,t as u,k as b,B as N,F as f,q as P,v as O}from"./app-yh_z0ZC4.js";import q from"./AdminLayout-jt9Xfbwo.js";import{_ as K}from"./MenuButton-DCKpMbbg.js";import L from"./Nav-DWcedOgS.js";import{_ as Z}from"./MyCKEditor-BHZgNCYZ.js";import"./AuthenticatedLayout-BlmWOB5h.js";import"./SettingsStore-DfcQBQgt.js";import"./AdminMenu-Y_cm6UF9.js";const G={class:"pb-10"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-600 sm:rounded-lg"},R={class:"p-6 text-gray-900 dark:text-white"},W={class:"mb-5"},X=e("label",{for:"title",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Job Category Title",-1),Y={key:0,class:"form_error"},ee={class:"grid grid-cols-1 sm:grid-cols-2 gap-5"},te={class:"mb-5"},oe=e("label",{for:"category",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Portfolio Category",-1),re=["value"],se={key:0,class:"form_error"},ie={class:"mb-5"},le=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Enabled",-1),de={class:"flex items-start py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg px-3"},ae={class:"flex items-center h-5"},ne=e("label",{for:"enabled",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Enable Portfolio ",-1),ce={class:"mb-5"},ue=e("div",{class:"flex items-center mb-2"},[e("label",{for:"pictures",class:"block mr-3 text-sm font-medium text-gray-900 dark:text-white"},"Pictures"),e("span",{class:"text-sm"},"(Only *.jpg image formats are supported)")],-1),be={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-1 items-center mb-5"},ge=["onClick"],me=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[e("path",{d:"M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c-9.4 9.4-9.4 24.6 0 33.9l47 47-47 47c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l47-47 47 47c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-47-47 47-47c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-47 47-47-47c-9.4-9.4-24.6-9.4-33.9 0z"})],-1),pe=[me],fe=["src"],_e={key:0,class:"w-full text-center my-2"},ye=["onClick"],ke={key:1,class:"text-center py-3"},xe=e("div",{class:"text-xs text-black"},"Selected as default image",-1),he=[xe],ve={key:0,class:"form_error"},we={class:"mb-5"},Ce=e("label",{for:"small_description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Small Description",-1),Ve={key:0,class:"form_error"},je={class:"mb-5"},De=e("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Job Description",-1),Me={key:0,class:"form_error"},Ue=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Update Portfolio ",-1),Ae={__name:"Edit",props:{portfolio:Object,portfoliocategories:Array,errors:Object},setup(_){const o=_,r=E({title:o.portfolio.title,portfolio_category_id:o.portfolio.portfolio_category_id,small_description:o.portfolio.small_description,pictures:null,default_media_id:o.portfolio.default_media_id,description:o.portfolio.description,enabled:o.portfolio.enabled==1}),y=E({media_id:0});function S(a){r.default_media_id=a}function B(){r.post(route("myadmin.portfolio.update",o.portfolio))}function z(a){r.description=a}function J(a){confirm("Are you sure you want to delete this picture?")&&(y.media_id=a,y.post(`/portfolio/${o.portfolio.slug}/media/delete`))}return A(()=>{initFlowbite()}),(a,i)=>(l(),d(f,null,[n(s(F),{title:"Edit Portfolio"}),n(q,null,{default:I(()=>{var k,x,h,v,w,C,V,j,D,M,U,$;return[n(K,{title:"Edit Portfolio"}),e("div",G,[e("div",H,[n(L),e("div",Q,[e("div",R,[e("form",{onSubmit:m(B,["prevent"])},[e("div",W,[X,c(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=t=>s(r).title=t),id:"title",class:g(["bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",(k=o.errors)!=null&&k.title?"border-red-500":""]),placeholder:"Job Category Title"},null,2),[[p,s(r).title]]),(x=o.errors)!=null&&x.title?(l(),d("div",Y,u((h=o.errors)==null?void 0:h.title),1)):b("",!0)]),e("div",ee,[e("div",te,[oe,c(e("select",{id:"category","onUpdate:modelValue":i[1]||(i[1]=t=>s(r).portfolio_category_id=t),class:g(["w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",(v=o.errors)!=null&&v.portfolio_category_id?"border-red-500":""])},[(l(!0),d(f,null,P(o.portfoliocategories,t=>(l(),d("option",{key:t.id,value:t.id},u(t.title),9,re))),128))],2),[[N,s(r).portfolio_category_id]]),(w=o.errors)!=null&&w.portfolio_category_id?(l(),d("div",se,"Job Category is required.")):b("",!0)]),e("div",ie,[le,e("div",de,[e("div",ae,[c(e("input",{id:"enabled",type:"checkbox","onUpdate:modelValue":i[2]||(i[2]=t=>s(r).enabled=t),class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300 dark:bg-gray-700 dark:border-gray-300 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800"},null,512),[[O,s(r).enabled]])]),ne])])]),e("div",ce,[ue,e("div",be,[(l(!0),d(f,null,P(_.portfolio.media,t=>(l(),d("div",{key:t.id,class:g(["mr-3 bg-gray-200 dark:bg-gray-800 p-2 relative",s(r).default_media_id==t.id?"bg-green-300 dark:bg-green-300":""])},[e("div",{onClick:m(T=>J(t.id),["prevent"]),class:"cursor-pointer absolute right-[8px] bg-white w-[26px] h-[26px] flex items-center justify-center rounded-full fill-black"},pe,8,ge),e("img",{src:t.original_url,class:"w-[100%] h-[200px] m-auto object-contain"},null,8,fe),s(r).default_media_id!=t.id?(l(),d("div",_e,[e("button",{type:"button",onClick:m(T=>S(t.id),["prevent"]),class:"btn-dark px-4 py-1"},"Set Default",8,ye)])):(l(),d("div",ke,he))],2))),128))]),e("input",{type:"file",id:"pictures",multiple:"",accept:"image/jpeg",class:"mt-1 block w-full",onInput:i[3]||(i[3]=t=>s(r).pictures=t.target.files)},null,32),(C=o.errors)!=null&&C.pictures?(l(),d("div",ve,u((V=o.errors)==null?void 0:V.pictures),1)):b("",!0)]),e("div",we,[Ce,c(e("textarea",{id:"small_description","onUpdate:modelValue":i[4]||(i[4]=t=>s(r).small_description=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[p,s(r).small_description]]),(j=o.errors)!=null&&j.small_description?(l(),d("div",Ve,u((D=o.errors)==null?void 0:D.small_description),1)):b("",!0)]),e("div",je,[De,c(e("textarea",{"onUpdate:modelValue":i[5]||(i[5]=t=>s(r).description=t),class:"w-full"},null,512),[[p,s(r).description]]),n(Z,{content:s(r).description,onUpdateContent:z,class:g(["myck",(M=o.errors)!=null&&M.description?"border-red-500 p-[1px] bg-red-500":""])},null,8,["content","class"]),(U=o.errors)!=null&&U.description?(l(),d("div",Me,u(($=o.errors)==null?void 0:$.description),1)):b("",!0)]),Ue],32)])])])])]}),_:1})],64))}};export{Ae as default};
