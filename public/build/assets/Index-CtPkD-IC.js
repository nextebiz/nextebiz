import{T as x,o as f,b as d,j as n,e as c,u as l,Z as v,w,d as e,F as b,q as M,t as s,f as a,g as _,S as C}from"./app-Bp3uzr8P.js";import A from"./AdminLayout-DDUUtItN.js";import{_ as S}from"./MenuButton-CFiOg5yG.js";import{i as N}from"./laravel-vue-pagination.es-BMImzrqT.js";import"./AuthenticatedLayout-BAF08Wcy.js";import"./SettingsStore-B-jcsNI1.js";import"./AdminMenu-Dt-n8Ac9.js";const R={class:"py-10"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"relative overflow-x-auto"},F={class:"w-[300px] mb-3"},P=e("label",{for:"countries",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Filter Search",-1),B=["selected"],I=["selected"],U=["selected"],V={key:0},j={class:"min-w-[700px] sm:w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},E=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-900 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 w-2"}," ID "),e("th",{scope:"col",class:"text-left border border-gray-100 dark:border-gray-600 px-6 py-3"}," Details "),e("th",{scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 sm:w-[60px]"}," Mark As Read "),e("th",{scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 sm:w-[60px]"}," Delete ")])],-1),L={scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 w-2"},O={scope:"col",class:"text-left border border-gray-100 dark:border-gray-600 px-6 py-3"},T=e("strong",null,"Message type",-1),q=e("strong",null,"Name: ",-1),Z=e("strong",null,"Email: ",-1),z=e("strong",null,"Phone: ",-1),G=e("strong",null,"Message: ",-1),H=e("strong",null,"Category: ",-1),J=e("strong",null,"URL: ",-1),K=e("strong",null,"user_agent: ",-1),Q=e("strong",null,"IP: ",-1),W=e("strong",null,"Created at: ",-1),X={scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 sm:w-[60px]"},Y=["onClick"],ee=["onClick"],te={scope:"col",class:"text-center border border-gray-100 dark:border-gray-600 px-6 py-3 sm:w-[60px]"},re=["onClick"],se={class:"my-3"},oe={key:1},ae=e("div",{class:"p-6 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-lg"}," No Messages found ",-1),de=[ae],me={__name:"Index",props:{messages:Object,mark_as_read:Number},setup(u){const i=u,r=x({message_id:0,mark_as_read:i.mark_as_read});function y(o){r.mark_as_read=o.target.value,r.get("/myadmin/messages?mark_as_read="+r.mark_as_read)}function h(o){C.get("/myadmin/messages?mark_as_read="+r.mark_as_read+"&page="+o)}function g(o){r.message_id=o,r.patch(route("myadmin.messages.update",o),{preserveScroll:!0})}function k(o){confirm("Are you sure you want to delete this message?")&&(r.message_id=o,r.delete(route("myadmin.messages.destroy",o)))}return f(()=>{initFlowbite()}),(o,ne)=>(d(),n(b,null,[c(l(v),{title:"Messages"}),c(A,null,{default:w(()=>{var p;return[c(S,{title:"Messages"}),e("div",R,[e("div",D,[e("div",$,[e("div",F,[e("form",null,[P,e("select",{onChange:y,id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[e("option",{value:"-1",selected:l(r).mark_as_read==2},"Show All",8,B),e("option",{value:"0",selected:l(r).mark_as_read==0},"Show Mark As Unread",8,I),e("option",{value:"1",selected:l(r).mark_as_read==1},"Show Mark As Read",8,U)],32)])]),((p=i.messages)==null?void 0:p.data.length)>0?(d(),n("div",V,[e("table",j,[E,e("tbody",null,[(d(!0),n(b,null,M(i.messages.data,t=>(d(),n("tr",{key:t.id},[e("td",L,s(t.id),1),e("td",O,[e("div",null,[T,a(" "+s(t.message_type),1)]),e("div",null,[q,a(" "+s(t.name),1)]),e("div",null,[Z,a(" "+s(t.email),1)]),e("div",null,[z,a(" "+s(t.phone),1)]),e("div",null,[G,a(" "+s(t.message),1)]),e("div",null,[H,a(" "+s(t.category_name),1)]),e("div",null,[J,a(" "+s(t.url),1)]),e("div",null,[K,a(" "+s(t.user_agent),1)]),e("div",null,[Q,a(" "+s(t.ip),1)]),e("div",null,[W,a(" "+s(t.created_at),1)])]),e("td",X,[t.mark_as_read==1?(d(),n("button",{key:0,onClick:_(m=>g(t.id),["prevent"]),class:"btn-dark font-bold whitespace-nowrap"},"Mark As Unread",8,Y)):(d(),n("button",{key:1,onClick:_(m=>g(t.id),["prevent"]),class:"btn-green font-bold whitespace-nowrap"},"Mark As Read",8,ee))]),e("td",te,[e("button",{onClick:_(m=>k(t.id),["prevent"]),class:"btn-orange font-bold"},"Delete",8,re)])]))),128))])]),e("div",se,[c(l(N),{data:u.messages,onPaginationChangePage:h},null,8,["data"])])])):(d(),n("div",oe,de))])])])]}),_:1})],64))}};export{me as default};
